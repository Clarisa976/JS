{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/Proyectos/DWECL/DWECL/proyecto/src/App.js\";\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { Component } from \"react\";\nimport { Alert, Button, Modal, ModalHeader, ModalBody, ModalFooter, Table } from 'reactstrap';\nimport HeaderComponent from './components/HeaderComponent';\nimport FooterComponent from './components/FooterComponent';\nimport ProductComponent from './components/ProductComponent';\nimport Login from \"./components/LoginComponent\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.fetchOrders = () => {\n      const URL_API = 'http://localhost/Proyectos/DWECL/DWECL/proyecto/build/API/pedidos.php';\n      if (!this.state.loggedUser) return;\n      axios.post(URL_API, {\n        action: \"get\",\n        userId: this.state.loggedUser.id\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        console.log(\"Orders fetched:\", response.data);\n        this.setState({\n          pedidos: response.data.pedidos || []\n        }, () => {\n          this.togglePedidosModal();\n        });\n      }).catch(error => {\n        console.error(\"Error fetching orders:\", error);\n      });\n    };\n    this.saveOrder = order => {\n      const URL_API = 'http://localhost/Proyectos/DWECL/DWECL/proyecto/build/API/pedidos.php';\n      return axios.post('http://localhost/Proyectos/DWECL/DWECL/proyecto/build/API/pedidos.php', {\n        action: \"save\",\n        order\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n    };\n    this.toggleLoginModal = () => {\n      this.setState({\n        isLoginOpen: !this.state.isLoginOpen\n      });\n    };\n    this.toggleCart = () => {\n      this.setState(prevState => ({\n        showCart: !prevState.showCart\n      }));\n    };\n    this.togglePedidosModal = () => {\n      this.setState(prevState => ({\n        showPedidosModal: !prevState.showPedidosModal\n      }));\n    };\n    // Actualiza el usuario logueado\n    this.handleLogin = user => {\n      console.log(\"handleLogin called with user:\", user);\n      this.setState({\n        loggedUser: user,\n        name: user.usuario\n      }, () => {\n        console.log(\"Logged User updated in state:\", this.state.loggedUser);\n      });\n      this.toggleLoginModal();\n    };\n    this.handleLogout = () => {\n      this.setState({\n        loggedUser: null,\n        name: \"\"\n      }, () => {\n        window.location.reload();\n      });\n    };\n    this.addToCart = (producto, e) => {\n      if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n      this.setState(prevState => {\n        const cart = [...prevState.cart];\n        const identifier = producto.id !== undefined ? producto.id : producto.nombre;\n        const index = cart.findIndex(item => {\n          const itemId = item.id !== undefined ? item.id : item.nombre;\n          return itemId === identifier;\n        });\n        if (index > -1) {\n          const updatedItem = {\n            ...cart[index],\n            quantity: cart[index].quantity + 1\n          };\n          return {\n            cart: [...cart.slice(0, index), updatedItem, ...cart.slice(index + 1)]\n          };\n        } else {\n          return {\n            cart: [...cart, {\n              id: identifier,\n              nombre: producto.nombre,\n              precio: producto.precio,\n              quantity: 1\n            }]\n          };\n        }\n      });\n    };\n    this.modifyCart = (id, change) => {\n      this.setState(prevState => {\n        const cart = prevState.cart.map(item => {\n          if (item.id === id) {\n            const newQuantity = item.quantity + change;\n            return {\n              ...item,\n              quantity: newQuantity < 0 ? 0 : newQuantity\n            };\n          }\n          return item;\n        }).filter(item => item.quantity > 0);\n        return {\n          cart\n        };\n      });\n    };\n    this.purchase = (name, address) => {\n      const {\n        cart,\n        loggedUser\n      } = this.state;\n      if (cart.length === 0) {\n        this.setState({\n          showAlert: true,\n          alertMessage: \"There are no products in the cart\",\n          alertColor: \"danger\"\n        });\n        return;\n      }\n      const newOrder = {\n        nombre: name,\n        direccion: address,\n        pedidos: cart,\n        userId: loggedUser.id\n      };\n      console.log(\"Attempting to save order:\", newOrder);\n      this.saveOrder(newOrder).then(response => {\n        console.log(\"Order saved:\", response.data);\n        if (response.data.success) {\n          this.setState(prevState => ({\n            pedidos: [...prevState.pedidos, newOrder],\n            cart: []\n          }));\n          this.setState({\n            showAlert: true,\n            alertMessage: \"Purchase completed!\",\n            alertColor: \"success\"\n          });\n        } else {\n          this.setState({\n            showAlert: true,\n            alertMessage: \"Failed to save order\",\n            alertColor: \"danger\"\n          });\n        }\n      }).catch(error => {\n        console.error(\"Error saving order:\", error);\n        this.setState({\n          showAlert: true,\n          alertMessage: \"Error saving order\",\n          alertColor: \"danger\"\n        });\n      });\n    };\n    this.handlePurchase = () => {\n      if (!this.state.loggedUser) {\n        this.setState({\n          showAlert: true,\n          alertMessage: \"You must be logged in to complete a purchase\",\n          alertColor: \"danger\"\n        });\n        return;\n      }\n      const {\n        name,\n        address\n      } = this.state;\n      if (name.trim() && address.trim()) {\n        this.purchase(name, address);\n        this.toggleCart();\n      } else {\n        this.setState({\n          showAlert: true,\n          alertMessage: \"Empty field\",\n          alertColor: \"danger\"\n        });\n      }\n    };\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n    // Ventana del carrito y formulario para el pedido\n    this.carritoModal = () => {\n      const totalPrice = this.state.cart.reduce((acc, item) => {\n        // Cambiar los puntos por comas para que no pete\n        const price = parseFloat(item.precio.replace(',', '.'));\n        return acc + item.quantity * price;\n      }, 0);\n      return /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: this.state.showCart,\n        toggle: this.toggleCart,\n        size: \"xl\",\n        modalClassName: \"modal-custom-size\",\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          toggle: this.toggleCart,\n          children: \"Shopping Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: [this.state.cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No products in cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this) : this.state.cart.map(item => {\n            const price = parseFloat(item.precio.replace(',', '.'));\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'space-between',\n                marginBottom: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  flex: '2'\n                },\n                children: item.nombre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  flex: '3',\n                  textAlign: 'center'\n                },\n                children: [item.quantity, \" x \", item.precio, \"\\u20AC = \", item.quantity * price, \"\\u20AC\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  flex: '1',\n                  textAlign: 'center'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  color: \"primary\",\n                  size: \"sm\",\n                  onClick: () => this.modifyCart(item.id, 1),\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 21\n                }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"secondary\",\n                  size: \"sm\",\n                  onClick: () => this.modifyCart(item.id, -1),\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'flex-end'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Total: \", totalPrice, \"\\u20AC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Fill in your details to complete the purchase:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 13\n            }, this), this.state.loggedUser ? /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              defaultValue: this.state.loggedUser.usuario,\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              value: this.state.name,\n              onChange: this.handleChange,\n              placeholder: \"Enter your name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Address:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"address\",\n              value: this.state.address,\n              onChange: this.handleChange,\n              placeholder: \"Enter your address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'flex-end'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                textAlign: 'right'\n              },\n              children: [\"Your order total is: \", totalPrice, \"\\u20AC\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 11\n          }, this), this.state.showAlert && /*#__PURE__*/_jsxDEV(Alert, {\n            fade: false,\n            color: this.state.alertColor,\n            toggle: () => this.setState({\n              showAlert: false,\n              alertMessage: \"\"\n            }),\n            children: this.state.alertMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"success\",\n            onClick: this.handlePurchase,\n            children: \"Purchase\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            color: \"secondary\",\n            onClick: this.toggleCart,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 7\n      }, this);\n    };\n    // Ventana pedidos realizados\n    this.pedidosModal = () => {\n      const pedidos = this.state.pedidos || [];\n      return /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: this.state.showPedidosModal,\n        toggle: this.togglePedidosModal,\n        size: \"xl\",\n        modalClassName: \"modal-custom-size\",\n        children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n          toggle: this.togglePedidosModal,\n          children: \"Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: pedidos.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No orders have been placed.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this) : pedidos.map((order, index) => {\n            const orderTotal = order.pedidos.reduce((accum, item) => {\n              const price = parseFloat(item.precio.replace(',', '.'));\n              return accum + item.quantity * price;\n            }, 0);\n            return /*#__PURE__*/_jsxDEV(Table, {\n              borderless: true,\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Order\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Name:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: order.nombre\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Address:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: order.direccion\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Products:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 354,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(Table, {\n                      striped: true,\n                      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                            children: \"#\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 359,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            children: \"Product\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 360,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            children: \"Units\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 361,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            children: \"Unit Price\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 362,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            children: \"Total\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 363,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 358,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 357,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                        children: order.pedidos.map((item, idx) => {\n                          const price = parseFloat(item.precio.replace(',', '.'));\n                          return /*#__PURE__*/_jsxDEV(\"tr\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                              children: idx + 1\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 371,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: item.nombre\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 372,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: item.quantity\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 373,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: item.precio\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 374,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              style: {\n                                textAlign: 'right'\n                              },\n                              children: [item.quantity * price, \" \\u20AC\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 375,\n                              columnNumber: 35\n                            }, this)]\n                          }, item.id, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 370,\n                            columnNumber: 33\n                          }, this);\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 366,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 356,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Order Total:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: 'right'\n                    },\n                    children: [orderTotal, \" \\u20AC\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 387,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            onClick: this.togglePedidosModal,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 7\n      }, this);\n    };\n    this.state = {\n      isLoginOpen: false,\n      showCart: false,\n      showPedidosModal: false,\n      showAlert: false,\n      productos: [],\n      cart: [],\n      pedidos: [],\n      alertMessage: \"\",\n      alertColor: \"danger\",\n      name: \"\",\n      address: \"\",\n      loggedUser: null\n    };\n  }\n  componentDidMount() {\n    axios.get('/2daw/pieles.json').then(response => {\n      this.setState({\n        productos: response.data.productos\n      });\n    }).catch(error => console.error('Error fetching data with axios:', error));\n  }\n  render() {\n    const totalItems = this.state.cart.reduce((acc, item) => acc + item.quantity, 0);\n    console.log(\"Logged User:\", this.state.loggedUser);\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(HeaderComponent, {\n          productos: this.state.productos,\n          toggleCart: this.toggleCart,\n          cartItemCount: totalItems,\n          loggedUser: this.state.loggedUser,\n          onLogout: this.handleLogout,\n          onOpenLogin: this.toggleLoginModal\n          //onOpenPedidos={this.togglePedidosModal}\n          ,\n          onOpenPedidos: this.fetchOrders\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Login, {\n          show: this.state.isLoginOpen,\n          toggle: this.toggleLoginModal,\n          onLogin: this.handleLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), this.carritoModal(), this.pedidosModal(), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProductComponent, {\n        productos: this.state.productos,\n        addToCart: this.addToCart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FooterComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","Alert","Button","Modal","ModalHeader","ModalBody","ModalFooter","Table","HeaderComponent","FooterComponent","ProductComponent","Login","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","App","constructor","props","fetchOrders","URL_API","state","loggedUser","post","action","userId","id","headers","then","response","console","log","data","setState","pedidos","togglePedidosModal","catch","error","saveOrder","order","toggleLoginModal","isLoginOpen","toggleCart","prevState","showCart","showPedidosModal","handleLogin","user","name","usuario","handleLogout","window","location","reload","addToCart","producto","e","preventDefault","stopPropagation","cart","identifier","undefined","nombre","index","findIndex","item","itemId","updatedItem","quantity","slice","precio","modifyCart","change","map","newQuantity","filter","purchase","address","length","showAlert","alertMessage","alertColor","newOrder","direccion","success","handlePurchase","trim","handleChange","target","value","carritoModal","totalPrice","reduce","acc","price","parseFloat","replace","isOpen","toggle","size","modalClassName","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","alignItems","justifyContent","marginBottom","flex","textAlign","color","onClick","type","defaultValue","readOnly","onChange","placeholder","fade","pedidosModal","orderTotal","accum","borderless","striped","idx","productos","componentDidMount","get","render","totalItems","className","cartItemCount","onLogout","onOpenLogin","onOpenPedidos","show","onLogin"],"sources":["/opt/lampp/htdocs/Proyectos/DWECL/DWECL/proyecto/src/App.js"],"sourcesContent":["import './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { Component } from \"react\";\nimport { Alert, Button, Modal, ModalHeader, ModalBody, ModalFooter, Table } from 'reactstrap';\nimport HeaderComponent from './components/HeaderComponent';\nimport FooterComponent from './components/FooterComponent';\nimport ProductComponent from './components/ProductComponent';\nimport Login from \"./components/LoginComponent\";\nimport axios from 'axios';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoginOpen: false,\n      showCart: false,\n      showPedidosModal: false,\n      showAlert: false,\n      productos: [],\n      cart: [],\n      pedidos: [],\n      alertMessage: \"\",\n      alertColor: \"danger\",\n      name: \"\",\n      address: \"\",\n      loggedUser: null,\n      \n    };\n  }\n\n  componentDidMount() {\n    axios.get('/2daw/pieles.json')\n      .then(response => {\n        this.setState({ productos: response.data.productos });\n      })\n      .catch(error => console.error('Error fetching data with axios:', error));\n  }\n\n\n  fetchOrders = () => {\n    const URL_API = 'http://localhost/Proyectos/DWECL/DWECL/proyecto/build/API/pedidos.php';\n    if (!this.state.loggedUser) return;\n    axios.post(\n     URL_API,\n      { action: \"get\", userId: this.state.loggedUser.id },\n      { headers: { 'Content-Type': 'application/json' } }\n    )\n      .then(response => {\n        console.log(\"Orders fetched:\", response.data);\n        this.setState({ pedidos: response.data.pedidos || [] }, () => {\n          this.togglePedidosModal();\n        });\n      })\n      .catch(error => {\n        console.error(\"Error fetching orders:\", error);\n      });\n  };\n\n  saveOrder = (order) => {\n    const URL_API = 'http://localhost/Proyectos/DWECL/DWECL/proyecto/build/API/pedidos.php';\n    return axios.post(\n      'http://localhost/Proyectos/DWECL/DWECL/proyecto/build/API/pedidos.php',\n      { action: \"save\", order },\n      { headers: { 'Content-Type': 'application/json' } }\n    );\n  };\n\n\n  toggleLoginModal = () => {\n    this.setState({ isLoginOpen: !this.state.isLoginOpen });\n  };\n\n  toggleCart = () => {\n    this.setState(prevState => ({ showCart: !prevState.showCart }));\n  };\n\n  togglePedidosModal = () => {\n    this.setState(prevState => ({ showPedidosModal: !prevState.showPedidosModal }));\n  };\n\n  // Actualiza el usuario logueado\n  handleLogin = (user) => {\n    console.log(\"handleLogin called with user:\", user);\n    this.setState({ loggedUser: user, name: user.usuario }, () => {\n      console.log(\"Logged User updated in state:\", this.state.loggedUser);\n    });\n    this.toggleLoginModal();\n  };\n\n  handleLogout = () => {\n    this.setState({ loggedUser: null, name: \"\" }, () => {\n      window.location.reload();\n    });\n  };\n\n\n  addToCart = (producto, e) => {\n    if (e) { e.preventDefault(); e.stopPropagation(); }\n    this.setState(prevState => {\n      const cart = [...prevState.cart];\n      const identifier = producto.id !== undefined ? producto.id : producto.nombre;\n      const index = cart.findIndex(item => {\n        const itemId = item.id !== undefined ? item.id : item.nombre;\n        return itemId === identifier;\n      });\n      if (index > -1) {\n        const updatedItem = { ...cart[index], quantity: cart[index].quantity + 1 };\n        return { cart: [...cart.slice(0, index), updatedItem, ...cart.slice(index + 1)] };\n      } else {\n        return {\n          cart: [...cart, {\n            id: identifier,\n            nombre: producto.nombre,\n            precio: producto.precio,\n            quantity: 1\n          }]\n        };\n      }\n    });\n  };\n\n  modifyCart = (id, change) => {\n    this.setState(prevState => {\n      const cart = prevState.cart\n        .map(item => {\n          if (item.id === id) {\n            const newQuantity = item.quantity + change;\n            return { ...item, quantity: newQuantity < 0 ? 0 : newQuantity };\n          }\n          return item;\n        })\n        .filter(item => item.quantity > 0);\n      return { cart };\n    });\n  };\n\n  purchase = (name, address) => {\n    const { cart, loggedUser } = this.state;\n    if (cart.length === 0) {\n      this.setState({\n        showAlert: true,\n        alertMessage: \"There are no products in the cart\",\n        alertColor: \"danger\"\n      });\n      return;\n    }\n    const newOrder = {\n      nombre: name,\n      direccion: address,\n      pedidos: cart,\n      userId: loggedUser.id\n    };\n    console.log(\"Attempting to save order:\", newOrder);\n    this.saveOrder(newOrder)\n      .then(response => {\n        console.log(\"Order saved:\", response.data);\n        if (response.data.success) {\n          this.setState(prevState => ({\n            pedidos: [...prevState.pedidos, newOrder],\n            cart: []\n          }));\n          this.setState({\n            showAlert: true,\n            alertMessage: \"Purchase completed!\",\n            alertColor: \"success\"\n          });\n        } else {\n          this.setState({\n            showAlert: true,\n            alertMessage: \"Failed to save order\",\n            alertColor: \"danger\"\n          });\n        }\n      })\n      .catch(error => {\n        console.error(\"Error saving order:\", error);\n        this.setState({\n          showAlert: true,\n          alertMessage: \"Error saving order\",\n          alertColor: \"danger\"\n        });\n      });\n  };\n\n  handlePurchase = () => {\n    if (!this.state.loggedUser) {\n      this.setState({\n        showAlert: true,\n        alertMessage: \"You must be logged in to complete a purchase\",\n        alertColor: \"danger\"\n      });\n      return;\n    }\n    const { name, address } = this.state;\n    if (name.trim() && address.trim()) {\n      this.purchase(name, address);\n      this.toggleCart();\n    } else {\n      this.setState({\n        showAlert: true,\n        alertMessage: \"Empty field\",\n        alertColor: \"danger\"\n      });\n    }\n  };\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  \n\n  // Ventana del carrito y formulario para el pedido\n  carritoModal = () => {\n    const totalPrice = this.state.cart.reduce((acc, item) => {\n      // Cambiar los puntos por comas para que no pete\n      const price = parseFloat(item.precio.replace(',', '.'));\n      return acc + item.quantity * price;\n    }, 0);\n\n    return (\n      <Modal\n        isOpen={this.state.showCart}\n        toggle={this.toggleCart}\n        size=\"xl\"\n        modalClassName=\"modal-custom-size\"\n      >\n        <ModalHeader toggle={this.toggleCart}>Shopping Cart</ModalHeader>\n        <ModalBody>\n          {this.state.cart.length === 0 ? (\n            <p>No products in cart</p>\n          ) : (\n            this.state.cart.map(item => {\n              const price = parseFloat(item.precio.replace(',', '.'));\n              return (\n                <div\n                  key={item.id}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'space-between',\n                    marginBottom: '10px'\n                  }}\n                >\n                  <span style={{ flex: '2' }}>{item.nombre}</span>\n                  <span style={{ flex: '3', textAlign: 'center' }}>\n                    {item.quantity} x {item.precio}€ = {item.quantity * price}€\n                  </span>\n                  <span style={{ flex: '1', textAlign: 'center' }}>\n                    <Button color=\"primary\" size=\"sm\" onClick={() => this.modifyCart(item.id, 1)}>+</Button>{' '}\n                    <Button color=\"secondary\" size=\"sm\" onClick={() => this.modifyCart(item.id, -1)}>-</Button>\n                  </span>\n                </div>\n              );\n            })\n          )}\n          <hr />\n          <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\n            <h4>Total: {totalPrice}€</h4>\n          </div>\n          <hr />\n          <h5>Fill in your details to complete the purchase:</h5>\n          <div>\n            <label>Name:</label>\n            <br />\n            {this.state.loggedUser ? (\n              <input\n                type=\"text\"\n                defaultValue={this.state.loggedUser.usuario}\n                readOnly\n              />\n            ) : (\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={this.state.name}\n                onChange={this.handleChange}\n                placeholder=\"Enter your name\"\n              />\n            )}\n            <br /><br />\n          </div>\n          <div>\n            <label>Address:</label>\n            <br />\n            <input\n              type=\"text\"\n              name=\"address\"\n              value={this.state.address}\n              onChange={this.handleChange}\n              placeholder=\"Enter your address\"\n            />\n            <br /><br />\n          </div>\n          <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\n            <h4 style={{ textAlign: 'right' }}>Your order total is: {totalPrice}€</h4>\n          </div>\n          {this.state.showAlert && (\n            <Alert\n              fade={false}\n              color={this.state.alertColor}\n              toggle={() => this.setState({ showAlert: false, alertMessage: \"\" })}\n            >\n              {this.state.alertMessage}\n            </Alert>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"success\" onClick={this.handlePurchase}>Purchase</Button>\n          <Button color=\"secondary\" onClick={this.toggleCart}>Close</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  };\n\n\n  // Ventana pedidos realizados\n  pedidosModal = () => {\n    const pedidos = this.state.pedidos || [];\n    return (\n      <Modal\n        isOpen={this.state.showPedidosModal}\n        toggle={this.togglePedidosModal}\n        size=\"xl\"\n        modalClassName=\"modal-custom-size\"\n      >\n        <ModalHeader toggle={this.togglePedidosModal}>Orders</ModalHeader>\n        <ModalBody>\n          {pedidos.length === 0 ? (\n            <p>No orders have been placed.</p>\n          ) : (\n            pedidos.map((order, index) => {\n              const orderTotal = order.pedidos.reduce((accum, item) => {\n                const price = parseFloat(item.precio.replace(',', '.'));\n                return accum + item.quantity * price;\n              }, 0);\n              return (\n                <Table borderless key={index}>\n                  <thead>\n                    <tr>\n                      <th>Order</th>\n                      <th>{index + 1}</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr>\n                      <td><strong>Name:</strong></td>\n                      <td>{order.nombre}</td>\n                    </tr>\n                    <tr>\n                      <td><strong>Address:</strong></td>\n                      <td>{order.direccion}</td>\n                    </tr>\n                    <tr>\n                      <td><strong>Products:</strong></td>\n                      <td>\n                        <Table striped>\n                          <thead>\n                            <tr>\n                              <th>#</th>\n                              <th>Product</th>\n                              <th>Units</th>\n                              <th>Unit Price</th>\n                              <th>Total</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {order.pedidos.map((item, idx) => {\n                              const price = parseFloat(item.precio.replace(',', '.'));\n                              return (\n                                <tr key={item.id}>\n                                  <td>{idx + 1}</td>\n                                  <td>{item.nombre}</td>\n                                  <td>{item.quantity}</td>\n                                  <td>{item.precio}</td>\n                                  <td style={{ textAlign: 'right' }}>\n                                    {item.quantity * price} €\n                                  </td>\n                                </tr>\n                              );\n                            })}\n                          </tbody>\n                        </Table>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td><strong>Order Total:</strong></td>\n                      <td style={{ textAlign: 'right' }}>{orderTotal} €</td>\n                    </tr>\n                  </tbody>\n                </Table>\n              );\n            })\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={this.togglePedidosModal}>Close</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  };\n\n\n\n\n  render() {\n    const totalItems = this.state.cart.reduce((acc, item) => acc + item.quantity, 0);\n    console.log(\"Logged User:\", this.state.loggedUser);\n\n    return (\n      <>\n        <div className=\"App\">\n          <HeaderComponent\n            productos={this.state.productos}\n            toggleCart={this.toggleCart}\n            cartItemCount={totalItems}\n            loggedUser={this.state.loggedUser}\n            onLogout={this.handleLogout}\n            onOpenLogin={this.toggleLoginModal}\n          //onOpenPedidos={this.togglePedidosModal}\n            onOpenPedidos={this.fetchOrders} />\n          <Login\n            show={this.state.isLoginOpen}\n            toggle={this.toggleLoginModal}\n            onLogin={this.handleLogin}/>\n        </div>\n\n        {/* Modal de carrito*/}\n        {this.carritoModal()}\n\n        {/* Modal de pedidos*/}\n        {this.pedidosModal()}\n\n        <h1>Products</h1>\n        <hr />\n        <ProductComponent productos={this.state.productos} addToCart={this.addToCart} />\n        <FooterComponent />\n      </>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}