{"ast":null,"code":"import React,{useState}from'react';import{Button,Form,FormGroup,Label,Input,Modal,ModalHeader,ModalBody,ModalFooter}from'reactstrap';import axios from'axios';//import { USUARIOS } from \"../data/users.js\"; \nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=props=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const handleChange=e=>{if(e.target.name==='username'){setUsername(e.target.value);}else if(e.target.name==='password'){setPassword(e.target.value);}};const handleSubmit=async e=>{e.preventDefault();if(username.trim()===''||password.trim()===''){setError(\"Please fill out all fields.\");return;}try{// Realizamos la petición POST a login.php\nconst response=await axios.post('../data/login.php',{username,password});const data=response.data;if(data.status==='success'){console.log(\"Authenticated user:\",data.user);setError('');props.toggle();setUsername('');setPassword('');}else{setError(data.message);}}catch(err){console.error(\"Error during login:\",err);setError(\"An error occurred. Please try again.\");}};return/*#__PURE__*/_jsxs(Modal,{isOpen:props.show,toggle:props.toggle,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:props.toggle,children:\"Login\"}),/*#__PURE__*/_jsxs(ModalBody,{children:[/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"username\",children:\"Username:\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"username\",id:\"username\",placeholder:\"Enter your username\",value:username,onChange:handleChange})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",name:\"password\",id:\"password\",placeholder:\"Enter your password\",value:password,onChange:handleChange})]})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error})]}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:handleSubmit,children:\"Login\"}),' ',/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:props.toggle,children:\"Cancel\"})]})]});};export default Login;","map":{"version":3,"names":["React","useState","Button","Form","FormGroup","Label","Input","Modal","ModalHeader","ModalBody","ModalFooter","axios","jsx","_jsx","jsxs","_jsxs","Login","props","username","setUsername","password","setPassword","error","setError","handleChange","e","target","name","value","handleSubmit","preventDefault","trim","response","post","data","status","console","log","user","toggle","message","err","isOpen","show","children","onSubmit","for","type","id","placeholder","onChange","style","color","onClick"],"sources":["/opt/lampp/htdocs/Proyectos/DWECL/DWECL/proyecto/src/components/LoginComponent.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button, Form, FormGroup, Label, Input, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport axios from 'axios';\n//import { USUARIOS } from \"../data/users.js\"; \n\nconst Login = (props) => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n\n    const handleChange = (e) => {\n        if (e.target.name === 'username') {\n            setUsername(e.target.value);\n        } else if (e.target.name === 'password') {\n            setPassword(e.target.value);\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (username.trim() === '' || password.trim() === '') {\n            setError(\"Please fill out all fields.\");\n            return;\n        }\n\n        try {\n            // Realizamos la petición POST a login.php\n            const response = await axios.post('../data/login.php', {\n                username,\n                password\n            });\n            const data = response.data;\n\n            if (data.status === 'success') {\n                console.log(\"Authenticated user:\", data.user);\n                setError('');\n                props.toggle();\n                setUsername('');\n                setPassword('');\n            } else {\n                setError(data.message);\n            }\n        } catch (err) {\n            console.error(\"Error during login:\", err);\n            setError(\"An error occurred. Please try again.\");\n        }\n    };\n\n    return (\n        <Modal isOpen={props.show} toggle={props.toggle}>\n            <ModalHeader toggle={props.toggle}>Login</ModalHeader>\n            <ModalBody>\n                <Form onSubmit={handleSubmit}>\n                    <FormGroup>\n                        <Label for=\"username\">Username:</Label>\n                        <Input\n                            type=\"text\"\n                            name=\"username\"\n                            id=\"username\"\n                            placeholder=\"Enter your username\"\n                            value={username}\n                            onChange={handleChange}\n                        />\n                    </FormGroup>\n                    <FormGroup>\n                        <Label for=\"password\">Password:</Label>\n                        <Input\n                            type=\"password\"\n                            name=\"password\"\n                            id=\"password\"\n                            placeholder=\"Enter your password\"\n                            value={password}\n                            onChange={handleChange}\n                        />\n                    </FormGroup>\n                </Form>\n                {error && <p style={{ color: 'red' }}>{error}</p>}\n            </ModalBody>\n            <ModalFooter>\n                <Button color=\"primary\" onClick={handleSubmit}>Login</Button>{' '}\n                <Button color=\"secondary\" onClick={props.toggle}>Cancel</Button>\n            </ModalFooter>\n        </Modal>\n    );\n};\n\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,MAAM,CAAEC,IAAI,CAAEC,SAAS,CAAEC,KAAK,CAAEC,KAAK,CAAEC,KAAK,CAAEC,WAAW,CAAEC,SAAS,CAAEC,WAAW,KAAQ,YAAY,CAC9G,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEA,KAAM,CAAAC,KAAK,CAAIC,KAAK,EAAK,CACrB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACmB,QAAQ,CAAEC,WAAW,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACqB,KAAK,CAAEC,QAAQ,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAuB,YAAY,CAAIC,CAAC,EAAK,CACxB,GAAIA,CAAC,CAACC,MAAM,CAACC,IAAI,GAAK,UAAU,CAAE,CAC9BR,WAAW,CAACM,CAAC,CAACC,MAAM,CAACE,KAAK,CAAC,CAC/B,CAAC,IAAM,IAAIH,CAAC,CAACC,MAAM,CAACC,IAAI,GAAK,UAAU,CAAE,CACrCN,WAAW,CAACI,CAAC,CAACC,MAAM,CAACE,KAAK,CAAC,CAC/B,CACJ,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAJ,CAAC,EAAK,CAC9BA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClB,GAAIZ,QAAQ,CAACa,IAAI,CAAC,CAAC,GAAK,EAAE,EAAIX,QAAQ,CAACW,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CAClDR,QAAQ,CAAC,6BAA6B,CAAC,CACvC,OACJ,CAEA,GAAI,CACA;AACA,KAAM,CAAAS,QAAQ,CAAG,KAAM,CAAArB,KAAK,CAACsB,IAAI,CAAC,mBAAmB,CAAE,CACnDf,QAAQ,CACRE,QACJ,CAAC,CAAC,CACF,KAAM,CAAAc,IAAI,CAAGF,QAAQ,CAACE,IAAI,CAE1B,GAAIA,IAAI,CAACC,MAAM,GAAK,SAAS,CAAE,CAC3BC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAEH,IAAI,CAACI,IAAI,CAAC,CAC7Cf,QAAQ,CAAC,EAAE,CAAC,CACZN,KAAK,CAACsB,MAAM,CAAC,CAAC,CACdpB,WAAW,CAAC,EAAE,CAAC,CACfE,WAAW,CAAC,EAAE,CAAC,CACnB,CAAC,IAAM,CACHE,QAAQ,CAACW,IAAI,CAACM,OAAO,CAAC,CAC1B,CACJ,CAAE,MAAOC,GAAG,CAAE,CACVL,OAAO,CAACd,KAAK,CAAC,qBAAqB,CAAEmB,GAAG,CAAC,CACzClB,QAAQ,CAAC,sCAAsC,CAAC,CACpD,CACJ,CAAC,CAED,mBACIR,KAAA,CAACR,KAAK,EAACmC,MAAM,CAAEzB,KAAK,CAAC0B,IAAK,CAACJ,MAAM,CAAEtB,KAAK,CAACsB,MAAO,CAAAK,QAAA,eAC5C/B,IAAA,CAACL,WAAW,EAAC+B,MAAM,CAAEtB,KAAK,CAACsB,MAAO,CAAAK,QAAA,CAAC,OAAK,CAAa,CAAC,cACtD7B,KAAA,CAACN,SAAS,EAAAmC,QAAA,eACN7B,KAAA,CAACZ,IAAI,EAAC0C,QAAQ,CAAEhB,YAAa,CAAAe,QAAA,eACzB7B,KAAA,CAACX,SAAS,EAAAwC,QAAA,eACN/B,IAAA,CAACR,KAAK,EAACyC,GAAG,CAAC,UAAU,CAAAF,QAAA,CAAC,WAAS,CAAO,CAAC,cACvC/B,IAAA,CAACP,KAAK,EACFyC,IAAI,CAAC,MAAM,CACXpB,IAAI,CAAC,UAAU,CACfqB,EAAE,CAAC,UAAU,CACbC,WAAW,CAAC,qBAAqB,CACjCrB,KAAK,CAAEV,QAAS,CAChBgC,QAAQ,CAAE1B,YAAa,CAC1B,CAAC,EACK,CAAC,cACZT,KAAA,CAACX,SAAS,EAAAwC,QAAA,eACN/B,IAAA,CAACR,KAAK,EAACyC,GAAG,CAAC,UAAU,CAAAF,QAAA,CAAC,WAAS,CAAO,CAAC,cACvC/B,IAAA,CAACP,KAAK,EACFyC,IAAI,CAAC,UAAU,CACfpB,IAAI,CAAC,UAAU,CACfqB,EAAE,CAAC,UAAU,CACbC,WAAW,CAAC,qBAAqB,CACjCrB,KAAK,CAAER,QAAS,CAChB8B,QAAQ,CAAE1B,YAAa,CAC1B,CAAC,EACK,CAAC,EACV,CAAC,CACNF,KAAK,eAAIT,IAAA,MAAGsC,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAR,QAAA,CAAEtB,KAAK,CAAI,CAAC,EAC1C,CAAC,cACZP,KAAA,CAACL,WAAW,EAAAkC,QAAA,eACR/B,IAAA,CAACX,MAAM,EAACkD,KAAK,CAAC,SAAS,CAACC,OAAO,CAAExB,YAAa,CAAAe,QAAA,CAAC,OAAK,CAAQ,CAAC,CAAC,GAAG,cACjE/B,IAAA,CAACX,MAAM,EAACkD,KAAK,CAAC,WAAW,CAACC,OAAO,CAAEpC,KAAK,CAACsB,MAAO,CAAAK,QAAA,CAAC,QAAM,CAAQ,CAAC,EACvD,CAAC,EACX,CAAC,CAEhB,CAAC,CAED,cAAe,CAAA5B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}